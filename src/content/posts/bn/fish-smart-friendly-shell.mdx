+++
title = "fish shell: একটি সহজ ও চমৎকার শেল"
image = "/src/content/assets/fish-smart-friendly-shell.png"
draft = true
createdAt = 2025-10-07
description = "draft"
tags = ["draft"]
+++
import { Image } from 'astro:assets';
import fish_config from '../../assets/fish_config.png';

fish (**F**riendly **I**nteractive **S**hell) হচ্ছে bash বা zsh এর মতই একটি কমান্ড লাইন শেল। শেল হচ্ছে একটা কমান্ড লাইন ইন্টারপ্রেটার যা আমাদেরকে বিভিন্ন কমান্ড দিয়ে কম্পিউটার চালাতে সহায়তা করে। যদি শেল সম্পর্কে আপনার খুব একটা জানাশোনা না থাকে, তাহলে খুব সম্ভবত আপনি bash ব্যবহার করছেন কারণ লিনাক্স ডিস্ট্রোগুলোতে সাধারণত এটাই ইন্সটল করে দেয়া থাকে। 

fish শেলের সুবিধা হচ্ছে, অনেক প্রয়োজনীয় ফিচার এটাতে কোন কনফিগারেশন ছাড়াই কাজ করে। যদি আপনি শেল স্ক্রিপ্ট সিনট্যাক্স বা শেল কনফিগারেশন শেখার ঝামেলায় না গিয়েই নিজের কমান্ড লাইনকে আরেকটু স্মার্ট ও সুন্দর বানাতে চান, তাহলে fish ব্যবহার করতে পারেন। চলুন একনজরে এটার কিছু চমৎকার সুবিধা দেখে নেয়া যাক:

## সুবিধাসমূহ

### Autosuggestions

<script src="https://asciinema.org/a/747211.js" id="asciicast-747211" data-autoplay data-loop async="true"></script>

fish আপনাকে কমান্ড লেখার সাথে সাথে ইন-লাইন সাজেশন দিবে। এক্ষেত্রে এটি সাধারণ সাজেশনের পাশাপাশি আপনার পূর্ববর্তী কমান্ডগুলোও সাজেস্ট করে। আপনি আগে যা কিছু রান করেছেন, সেটার ওপর ভিত্তি করে সাজেশন দেয়। এই সুবিধার কারণে আপনাকে এক কমান্ড বারবার লিখতে হবে না। তাছাড়া, আপনি `CTRL + R` চেপে আপনার আগের কমান্ডগুলো সার্চও করতে পারবেন।

### Tab Completion

<script src="https://asciinema.org/a/747213.js" id="asciicast-747213" data-autoplay data-loop async="true"></script>

fish উন্নত মানের Tab Completion সাপোর্ট করে। bash এ sudo লেখার পর আর Tab Completion কাজ করে না। কিন্তু fish এ সেই সমস্যা নেই। এখানে কমান্ডগুলোর একটা সংক্ষিপ্ত বিবরণও দেয়া থাকে। আপনি দ্বিতীয়বার Tab চেপে অপশন বাছাই করতে পারবেন। git কমান্ডসহ অনেক কমান্ডই fish কমপ্লিট করতে পারে। এটা ফাইল লোকেশন, এমনকি কমান্ড অপশনও কমপ্লিট করতে পারে।

### Syntax Highlighting

<script src="https://asciinema.org/a/747212.js" id="asciicast-747212" data-autoplay data-loop async="true"></script>

কোন কনফিগারেশন ছাড়াই fish শেলে Syntax Highlighting কাজ করে। আপনি কমান্ড লেখার সময়ই fish সেটা হাইলাইট করতে থাকবে। ভুল কমান্ডকে লাল রঙে চিহ্নিত করা হয়। পাশাপাশি, সঠিক ফাইল লোকেশন লিখলে তার নিচে দাগ দেয়া হয়। এ দ্বারা বোঝা যায় ফাইল/ফোল্ডারটি সিস্টেমে আছে।

### Universal Variables

<script src="https://asciinema.org/a/747214.js" id="asciicast-747214" data-autoplay data-loop async="true"></script>

Universal Variable হচ্ছে এমন এক ধরনের variable যেটা fish শেলের সব সেশনেই থাকে এবং রিবুট করলেও এর মান বদলায় না। fish তার অনেক কনফিগারেশন অপশন Universal Variable হিসেবে রাখে। যার ফলে, একটা কনফিগারেশনের variable একবার পরিবর্তন করলেই সেটা স্থায়ীভাবে বদলে যাবে এবং তৎক্ষণাৎ প্রয়োগ হবে। Universal Variable এর কার্যপ্রক্রিয়া সরাসরি দেখার জন্য দুইটা fish উইন্ডো খুলুন। তারপর, যেকোন একটাতে নিচের কমান্ড রান করুন:

```fish
set fish_color_cwd blue
```

যেহেতু, `fish_color_cwd` একটা Universal Variable, তাই বর্তমান working directory এর রঙ দুইটা উইন্ডোতেই বদলে যাবে।

একই কারণে fish শেলে `$PATH` চলকে কোন ডিরেক্টরি যুক্ত করাও খুবই সহজ। যেমন: `/usr/local/bin` কে `$PATH` চলকে স্থায়ীভাবে যুক্ত করতে রান করুন:

```fish
fish_add_path /usr/local/bin
```

এটার সুবিধা হচ্ছে একটা সামান্য কাজে আপনার ফাইল ঘাঁটাঘাঁটি করা লাগছে না। এই কমান্ড `$fish_user_paths` নামক Universal Variable ব্যবহার করে, যেটার মান `$PATH` চলকের শুরুতে আপনা-আপনি যুক্ত করা হয়। যার কারণে সিস্টেম রিবুট করার পরেও `$PATH` এর নতুন মান বিদ্যমান থাকবে।

### Abbreviations

<script src="https://asciinema.org/a/747210.js" id="asciicast-747210" data-autoplay data-loop async="true"></script>

fish শেলে আপনি কমান্ডকে সংক্ষিপ্ত করতে পারেন। যেমন ধরুন, আর্চ লিনাক্সে প্যাকেজ ইন্সটল করতে আপনাকে `sudo pacman -S <pkg_name>` কমান্ড রান করতে হয়। আপনি চাইলে `sudo pacman -S` কে সংক্ষেপ করে `install` বানিয়ে ফেলতে পারেন। তখন আপনি `install` লিখলেই fish সেটাকে `sudo pacman -S` এ রূপান্তর করে দিবে। তার জন্য নিচের কমান্ড রান করুন:

```fish
abbr -a install "sudo pacman -S"
```

তবে এটিকে স্থায়ী করার জন্য fish শেলের কনফিগ ফাইল config.fish এ যুক্ত করতে হবে। আরেকটি কাছাকাছি ধরনের ফিচার হচ্ছে Alias। কিন্তু এটাতে মূল কমান্ড দেখায় না। তার চেয়ে Abbreviations উত্তম, কারণ এটি মূল কমান্ড দেখাবে এবং শেল হিস্টোরিতেও মূল কমান্ডটিই থাকবে।

### Emacs and Vi Keybindings

fish শেলে আপনি দুইভাবে কমান্ড লাইন এডিট করতে পারেন: **Emacs মোডে** (সহজ) অথবা **Vi মোডে** (শক্তিশালী)।

#### Emacs মোড - ডিফল্ট ও সহজ

```fish
Ctrl + A    # লাইনের শুরুতে যান
Ctrl + E    # লাইনের শেষে যান  
Ctrl + U    # কার্সর থেকে লাইনের শুরু পর্যন্ত ডিলিট করুন
Ctrl + K    # কার্সর থেকে লাইনের শেষ পর্যন্ত ডিলিট করুন
```

*সবচেয়ে সহজ, কোন আলাদা এডিটিং মোড নেই!*

#### Vi মোড - Vim ব্যবহারকারীদের জন্য

```fish
# Vi মোড চালু করুন
fish_vi_key_bindings
```

দুইটি এডিটিং মোড রয়েছে এখানে:
- **নরমাল মোড:** নেভিগেশন ও কমান্ডের জন্য (`ESC` চাপুন)
- **ইনসার্ট মোড:** টাইপ করার জন্য (`i` চাপুন)

```fish
# নরমাল মোডের দারুন কিছু কমান্ড
h,j,k,l     # কার্সর মুভ করুন
i           # ইনসার্ট মোডে যান
dd          # সম্পূর্ণ লাইন ডিলিট করুন
p           # ডিলিট করা টেক্সট পেস্ট করুন
/           # কমান্ড হিস্ট্রি সার্চ করুন
```

Vi মোডে কাজ করলে আপনি একজন টার্মিনাল নিঞ্জার মতো অনুভব করবেন!

স্থায়ী সেটআপের জন্য আপনার `config.fish` ফাইলে শুধু এই একটি লাইন যোগ করুন:
```fish
fish_vi_key_bindings
```

### Web-based Configuration

<Image src={fish_config} class="pc-screenshot" alt="fish শেলের ওয়েব-ভিত্তিক কনফিগারেশন প্যানেলের স্ক্রিনশট" />

fish শেল Web-based Configuration সাপোর্ট করে। `fish_config` কমান্ড রান করলে আপনার ব্রাউজারে এই কনফিগারেশন ইন্টারফেসটি খুলবে। এখান থেকে সহজেই শেলের রং, প্রম্পট ইত্যাদি বদলানো যায়, এবং চলক, ফাংশন ইত্যাদির বিবরণ দেখা যায়।

## Bash বনাম Fish: এক নজরে

| বৈশিষ্ট্য             | Bash                          | Fish                             |
|:--------------------|:------------------------------|:---------------------------------|
| **ডিফল্ট কনফিগারেশন** | ম্যানুয়াল (`.bashrc` এডিট করতে হয়) | **অটোমেটিক** (ওয়েব-ভিত্তিক কনফিগারেশন আছে) |
| **অটো-সাজেশন**      | নেই (প্লাগিন লাগে, e.g., Oh My Bash) | **ডিফল্টভাবে আছে**                |
| **সিনট্যাক্স হাইলাইটিং** | নেই (প্লাগিন লাগে)             | **ডিফল্টভাবে আছে**                |
| **ট্যাব কমপ্লিশন**    | বেসিক                         | **স্মার্ট ও বর্ণনামূলক**             |
| **শেখার সহজতা**     | জটিল (স্ক্রিপ্টিং সিনট্যাক্স)      | **সহজ ও স্বজ্ঞাত**                 |
| **স্ক্রিপ্ট সামঞ্জস্যতা** | **সর্বজনীন** (লিনাক্স/ম্যাকের স্ট্যান্ডার্ড) | আলাদা সিনট্যাক্স (Bash-এর মত নয়)   |
| **কাস্টমাইজেশন নিয়ন্ত্রণ** | **অসীম** (পাওয়ার ইউজারদের জন্য) | মাঝারি (ইউজার-ফ্রেন্ডলি ফোকাস)     |
| **মূল উদ্দেশ্য**       | ইউনিভার্সাল, শক্তিশালী ও স্ক্রিপ্টিং | ইউজার-ফ্রেন্ডলি, ইন্টারেক্টিভ ও দ্রুত  |

**সারসংক্ষেপ:**
- **Bash** নির্বাচন করুন যদি আপনাকে জটিল স্ক্রিপ্ট লিখতে হয়, সর্বাধিক কন্ট্রোল দরকার হয়, অথবা সার্বজনীন সাপোর্ট প্রয়োজন হয়।
- **Fish** নির্বাচন করুন যদি আপনি কনফিগারেশনের ঝামেলা ছাড়াই আধুনিক ফিচার এবং দ্রুত, আরামদায়ক কাজ করতে চান।

## ইন্সটল ও সেটআপ

- Debian
```shell
sudo apt install fish
```

- Arch Linux
```shell
sudo pacman -S fish
```

- Fedora
```shell
sudo dnf install fish
```

fish সহজে সেটআপ করতে, আপনার টার্মিনালে প্রধান শেলের পরিবর্তে সরাসরি fish চালু করার সেটিং অন করে দিন। তার জন্য আপনার সিস্টেমের কোথায় এটি ইন্সটল করা হয়েছে তা খুঁজে বের করতে হবে:

```shell
which fish
```

fish শেলকে লগ-ইন শেল হিসেবেও ব্যবহার করা যায়:

```shell
chsh -s $(which fish)
```

তবে এভাবে ব্যবহার করলে কিছু সমস্যা দেখা দিতে পারে, যেমন `$PATH` এর মান ভুল থাকা। কিছু লিনাক্স ডিস্ট্রো ও প্রোগ্রাম প্রধান শেল হিসেবে bash চায়। অনেক সফটওয়্যারে fish শেলের সাপোর্ট ভাল থাকে না। তাই আপনাকে এই বিষয়গুলো বিবেচনা করেই কাজটি করতে হবে। যদিও আমি লগ-ইন শেল হিসেবে fish ব্যবহার করছি। আমার খুব একটা সমস্যা হচ্ছে না।

## প্রো টিপস: fish ব্যবহার করে আরো দক্ষভাবে কাজ করুন!

আপনি যদি ফিচারগুলো ব্যবহার করে অভ্যস্ত হয়ে গিয়ে থাকেন, তাহলে এই অ্যাডভান্স টিপসগুলো আপনার উৎপাদনশীলতা আরও বাড়িয়ে দিবে।

### ১. হিস্টোরি সার্চ আরও শক্তিশালী করুন
`Ctrl + R` ছাড়াও আপনি `Up Arrow` চেপে বর্তমান টাইপ করা টেক্সটের সাথে ম্যাচ করা পূর্ববর্তী কমান্ডগুলো ব্রাউজ করতে পারেন। শুধু কমান্ডের অংশ লিখে উপরের তীর চাপলেই শেল শুধু ম্যাচ করা কমান্ডগুলো দেখাবে।

### ২. Universal Variables দিয়ে কাস্টম সেটিংস সংরক্ষণ করুন
আপনার নিজের তৈরি সেটিংস স্থায়ীভাবে সংরক্ষণ করতে Universal Variables ব্যবহার করুন। যেমন, একটি কাস্টম প্রজেক্ট পাথ সেট করতে:

```fish
set -U MY_PROJECTS_PATH ~/projects
```

এবার যেকোনো fish সেশন থেকে `echo $MY_PROJECTS_PATH` করে এক্সেস করতে পারবেন। রিবুট করলেও এই ভেরিয়েবল থাকবে।

### ৩. কমান্ডের সময়মাত্রা ট্র্যাক করুন
প্রতটি কমান্ডের শেষে সেটি কতক্ষণ সময় নিলো তা দেখতে config.fish ফাইলে এই ফাংশনটি যোগ করুন:

```ish
funtion postexec_timer --on-event fish_postexec
   if test $CMD_DURATION -gt 1000
       set duration (math $CMD_DURATION / 1000)
       echo "Duration: {$duration}s"
   else if test $CMD_DURATION -gt 100
       echo "Duration: {$CMD_DURATION}ms"
   end
end
```

### ৪. ফাংশন তৈরি করে সাধারণ কাজগুলো অটোমেট করুন
একসথে multiple ফোল্ডার তৈরি এবং সেখানে প্রবেশের জন্য ফাংশন:

```ish
funtion take --description "Create directory and enter it"
   mkdir -p $argv
   cd $argv
end
```

ব্যবর: `take new_project`

### ৫. Abbreviations কে আরও কার্যকরীভাবে ব্যবহার করুন
Abbeviations ব্যবহার করে দৈনন্দিন কাজগুলো দ্রুতগতিতে করুন। আপনার বহূল ব্যবহৃত কমান্ডগুলোর Abbreviation বানিয়ে নিন। যেমন:

```ish
abb --add ins "sudo pacman -S --noconfirm"
abb --add rmv "sudo pacman -Rs"
abb --add up "sudo pacman -Syu --noconfirm"
abb --add gs "git status"
abb --add gp "git push"
abb --add gac "git add . && git commit -m "
abb --add ll "ls -la"
```

এগুল config.fish ফাইলে যোগ করলে স্থায়ী হবে এবং প্রতিবার পুরো কমান্ড লিখতে হবে না।

### ৬. ডিরেক্টরি হিস্টোরি দিয়ে দ্রুত নেভিগেশন
`cd` কমান্ড ছাড়াই দ্রুত ফোল্ডারে যাওয়া-আসা করতে পারেন:
- `cd -` দিয়ে পূর্ববর্তী ডিরেক্টরিতে ফিরে যান
- `cdh` কমান্ড দিয়ে ডিরেক্টরি হিস্টোরি দেখুন


এই টিপসগুলো অনুসরণ করে আপনি fish shell কে শুধু একটি টুল না, বরং আপনার ব্যক্তিগত প্রোডাক্টিভিটি অ্যাসিস্ট্যান্ট হিসেবে গড়ে তুলতে পারবেন!


## সাধারণ সমস্যা ও সমাধান

### ১. Bash স্ক্রিপ্ট fish-এ কাজ করছে না
**সমস্যা:** `.sh` ফাইল বা bash-specific commands (like `[[ ]]` syntax) error দেখায়।

**সমাধান:**
```fish
# স্পষ্টভাবে bash দিয়ে রান করুন
bash script.sh

# অথবা শেল পরিবর্তন করে স্ক্রিপ্ট রান করুন
#!/bin/bash
echo "This script needs bash"
```

### ২. System commands পাচ্ছেন না
**সস্যা:** কিছু সিস্টেম কমান্ড (like `systemctl`, `pacman`) fish-এ কাজ করছে না।

**সধান:**
```ish
# Fsh-এ bash-এর মতো একই PATH সেট আপ নিশ্চিত করুন
ech $PATH  # check if system directories are included

# য না থাকে, config.fish-এ যোগ করুন:
set-gx PATH /usr/local/sbin /usr/sbin /sbin $PATH
```

### ৩. Command history পুরনো কমান্ড দেখাচ্ছে না
**সস্যা:** fish চালু করার পর bash-এর history দেখা যাচ্ছে না।

**সধান:**
```ish
# Bsh history থেকে fish-এ ইম্পোর্ট করুন
hisory --merge

# অবা config.fish-এ যোগ করুন:
funtion import_bash_history
   history --merge
end
```

### ৪. Prompt দেখতে অস্বাভাবিক লাগছে
**সস্যা:** প্রম্পট খুব সাধারণ বা customization হারিয়ে গেছে।

**সধান:**
```ish
# Wb-based configuration দিয়ে সহজে পরিবর্তন করুন
fis_config

# অবা কমান্ড লাইনে থিম পরিবর্তন করুন
set-U fish_theme "classic"  #或者其他 available theme
```

### ৫. Environment variables কাজ করছে না
**সস্যা:** `.bashrc` বা `.profile`-এ সেট করা variables fish-এ দেখা যাচ্ছে না।

**সধান:**
```ish
# Bsh থেকে variables ইম্পোর্ট করুন (temporarily)
bas -c 'export' | while read line
   set -gx (echo $line | cut -d= -f1) (echo $line | cut -d= -f2-)
end

# স্থয়ীভাবে config.fish-এ সেট করুন
set-gx YOUR_VARIABLE "value"
```

### ৬. Git integration সমস্যা
**সস্যা:** Git repository-তে গেলে প্রম্পটে Git information দেখাচ্ছে না।

**সধান:**
```ish
# Fsh-এর built-in Git prompt সক্রিয় করুন
fis_config  #然后 prompts ট্যাবে গিয়ে Git-enabled prompt সিলেক্ট করুন

# অবা ম্যানুয়ালি সেট করুন
set-g __fish_git_prompt_show_informative_status 1
```

### ৭. Autosuggestions খুব aggressive
**সস্যা:** Autosuggestions বেশি interference করছে।

**সধান:**
```ish
# Atosuggestions disable করতে (temporarily):
set-g fish_autosuggestion_enabled 0

# পুরায় enable করতে:
set-g fish_autosuggestion_enabled 1

# ব শুধু নির্দিষ্ট character টাইপ করার পর show করতে:
set-g fish_autosuggestion_initial_delay 300  # milliseconds
```

### ৮. Configuration হারিয়ে গেছে
**সস্যা:** config.fish ফাইল ডিলিট হয়ে গেছে বা কাজ করছে না।

**সধান:**
```ish
# ডফল্ট configuration restore করুন
fis -c "fish_config --reset"

# অবা নতুন config.fish ফাইল তৈরি করুন
mkdr -p ~/.config/fish
touh ~/.config/fish/config.fish
```

### ৯. Command not found errors
**সস্যা:** bash-এ থাকা কিছু কমান্ড fish-এ "command not found" দেখায়।

**সধান:**
```ish
# Bsh-specific builtins (like 'help') fish-এ নেই
# পবর্তে fish-এর নিজের হেল্প ব্যবহার করুন
hel cd  # Fish-এর help command

# অবা bash-এর help ব্যবহার করুন
bas -c "help cd"
```

### ১০. Performance সমস্যা (ধীরগতি)
**সমাধান:**
```fish
# Slow startup হলে, config.fish থেকে unnecessary code রিমুভ করুন
# Fish সাধারণত bash-এর চেয়ে দ্রুত, কিন্তু complex config হলে slow হতে পারে
```

এই সাধারণ সমস্যাগুলোর সমাধান জানা থাকলে আপনার fish শেল experience আরও smooth হবে!



fish শেল ব্যবহার করে আপনি প্রচুর সময় বাঁচাতে পারবেন এবং আপনার কমান্ড লাইন অভিজ্ঞতা আরও উপভোগ্য করতে পারবেন। এটি বিশেষভাবে যারা কমপ্লিশন, অটোসাজেশন এবং সিনট্যাক্স হাইলাইটিং এর মাধ্যমে দ্রুত কাজ করতে চান তাদের জন্য উপকারী।

এই শেল সম্পর্কে বিস্তারিত জানতে তাদের [ওয়েবসাইট](http://fishshell.com/) ভিজিট করুন।
